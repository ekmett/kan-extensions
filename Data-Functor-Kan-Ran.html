<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Functor.Kan.Ran</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Functor-Kan-Ran.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Functor-Kan-Ran.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">kan-extensions-4.0: Kan extensions, Kan lifts, various forms of the Yoneda lemma, and (co)density (co)monads</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>rank 2 types</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Trustworthy</td></tr></table><p class="caption">Data.Functor.Kan.Ran</p></div><div id="description"><p class="caption">Description</p><div class="doc"><ul><li> Right Kan Extensions
</li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span>  <a href="#t:Ran">Ran</a> g h a = <a href="#v:Ran">Ran</a> {<ul class="subs"><li><a href="#v:runRan">runRan</a> :: <span class="keyword">forall</span> b.  (a -&gt; g b) -&gt; h b</li></ul>}</li><li class="src short"><a href="#v:toRan">toRan</a> :: <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> k =&gt; (<span class="keyword">forall</span> a.  k (g a) -&gt; h a) -&gt; k b -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h b</li><li class="src short"><a href="#v:fromRan">fromRan</a> ::  (<span class="keyword">forall</span> a.  k a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h a) -&gt; k (g b) -&gt; h b</li><li class="src short"><a href="#v:gran">gran</a> ::  <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h (g a) -&gt; h a</li><li class="src short"><a href="#v:composeRan">composeRan</a> :: Composition compose =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> f (<a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h) a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> (compose f g) h a</li><li class="src short"><a href="#v:decomposeRan">decomposeRan</a> :: (Composition compose, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> f) =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> (compose f g) h a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> f (<a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h) a</li><li class="src short"><a href="#v:adjointToRan">adjointToRan</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f g =&gt; f a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g Identity a</li><li class="src short"><a href="#v:ranToAdjoint">ranToAdjoint</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f g =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g Identity a -&gt; f a</li><li class="src short"><a href="#v:composedAdjointToRan">composedAdjointToRan</a> :: (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f g, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> h) =&gt; h (f a) -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h a</li><li class="src short"><a href="#v:ranToComposedAdjoint">ranToComposedAdjoint</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f g =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h a -&gt; h (f a)</li><li class="src short"><a href="#v:repToRan">repToRan</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Representable">Representable</a> u =&gt; <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Rep">Rep</a> u -&gt; a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> u Identity a</li><li class="src short"><a href="#v:ranToRep">ranToRep</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Representable">Representable</a> u =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> u Identity a -&gt; (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Rep">Rep</a> u, a)</li><li class="src short"><a href="#v:composedRepToRan">composedRepToRan</a> :: (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Representable">Representable</a> u, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> h) =&gt; h (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Rep">Rep</a> u, a) -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> u h a</li><li class="src short"><a href="#v:ranToComposedRep">ranToComposedRep</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Representable">Representable</a> u =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> u h a -&gt; h (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Rep">Rep</a> u, a)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:Ran" class="def">Ran</a> g h a <a href="src/Data-Functor-Kan-Ran.html#Ran" class="link">Source</a></p><div class="doc"><p>The right Kan extension of a <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a></code> h along a <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a></code> g.
</p><p>We can define a right Kan extension in several ways. The definition here is obtained by reading off
 the definition in of a right Kan extension in terms of an End, but we can derive an equivalent definition
 from the universal property.
</p><p>Given a <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a></code> <code>h : C -&gt; D</code> and a <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a></code> <code>g : C -&gt; C'</code>, we want to find extend <code>h</code> <em>back</em> along <code>g</code>
 to give <code>Ran g h : C' -&gt; C</code>, such that the natural transformation <code><code><a href="Data-Functor-Kan-Ran.html#v:gran">gran</a></code> :: Ran g h (g a) -&gt; h a</code> exists.
</p><p>In some sense this is trying to approximate the inverse of <code>g</code> by using one of
 its adjoints, because if the adjoint and the inverse both exist, they match!
</p><pre> Hask -h-&gt; Hask
   |       +
   g      /
   |    Ran g h
   v    /
 Hask -'
</pre><p>The Right Kan extension is unique (up to isomorphism) by taking this as its universal property.
</p><p>That is to say given any <code>K : C' -&gt; C</code> such that we have a natural transformation from <code>k.g</code> to <code>h</code>
 <code>(forall x. k (g x) -&gt; h x)</code> there exists a canonical natural transformation from <code>k</code> to <code>Ran g h</code>.
 <code>(forall x. k x -&gt; Ran g h x)</code>.
</p><p>We could literally read this off as a valid Rank-3 definition for <code><a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a></code>:
</p><pre>
 data Ran' g h a = forall z. <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a></code> z =&gt; Ran' (forall x. z (g x) -&gt; h x) (z a)
</pre><p>This definition is isomorphic the simpler Rank-2 definition we use below as witnessed by the
</p><pre>
 ranIso1 :: Ran g f x -&gt; Ran' g f x
 ranIso1 (Ran e) = Ran' e id

ranIso2 :: Ran' g f x -&gt; Ran g f x
 ranIso2 (Ran' h z) = Ran $ k -&gt; h (k <a href="$">$</a> z)
</pre><pre>
 ranIso2 (ranIso1 (Ran e)) &#8801; -- by definition
 ranIso2 (Ran' e id) &#8801;       -- by definition
 Ran $ k -&gt; e (k <a href="$">$</a> id)    -- by definition
 Ran $ k -&gt; e (k . id)      -- f . id = f
 Ran $ k -&gt; e k             -- eta reduction
 Ran e
</pre><p>The other direction is left as an exercise for the reader.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Ran" class="def">Ran</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:runRan" class="def">runRan</a> :: <span class="keyword">forall</span> b.  (a -&gt; g b) -&gt; h b</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Ran" class="caption collapser" onclick="toggleSection('i:Ran')">Instances</p><div id="section.i:Ran" class="show"><table><tr><td class="src"><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> (<a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:toRan" class="def">toRan</a> :: <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> k =&gt; (<span class="keyword">forall</span> a.  k (g a) -&gt; h a) -&gt; k b -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h b<a href="src/Data-Functor-Kan-Ran.html#toRan" class="link">Source</a></p><div class="doc"><p>The universal property of a right Kan extension.
</p></div></div><div class="top"><p class="src"><a name="v:fromRan" class="def">fromRan</a> ::  (<span class="keyword">forall</span> a.  k a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h a) -&gt; k (g b) -&gt; h b<a href="src/Data-Functor-Kan-Ran.html#fromRan" class="link">Source</a></p><div class="doc"><p><code><a href="Data-Functor-Kan-Ran.html#v:toRan">toRan</a></code> and <code><a href="Data-Functor-Kan-Ran.html#v:fromRan">fromRan</a></code> witness a higher kinded adjunction. from <code>(`'Compose'` g)</code> to <code><code><a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a></code> g</code>
</p><pre>
 <code><a href="Data-Functor-Kan-Ran.html#v:toRan">toRan</a></code> . <code><a href="Data-Functor-Kan-Ran.html#v:fromRan">fromRan</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
 <code><a href="Data-Functor-Kan-Ran.html#v:fromRan">fromRan</a></code> . <code><a href="Data-Functor-Kan-Ran.html#v:toRan">toRan</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:gran" class="def">gran</a> ::  <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h (g a) -&gt; h a<a href="src/Data-Functor-Kan-Ran.html#gran" class="link">Source</a></p><div class="doc"><p>This is the natural transformation that defines a Right Kan extension.
</p></div></div><div class="top"><p class="src"><a name="v:composeRan" class="def">composeRan</a> :: Composition compose =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> f (<a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h) a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> (compose f g) h a<a href="src/Data-Functor-Kan-Ran.html#composeRan" class="link">Source</a></p><div class="doc"><pre>
 <code><a href="Data-Functor-Kan-Ran.html#v:composeRan">composeRan</a></code> . <code><a href="Data-Functor-Kan-Ran.html#v:decomposeRan">decomposeRan</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
 <code><a href="Data-Functor-Kan-Ran.html#v:decomposeRan">decomposeRan</a></code> . <code><a href="Data-Functor-Kan-Ran.html#v:composeRan">composeRan</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:decomposeRan" class="def">decomposeRan</a> :: (Composition compose, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> f) =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> (compose f g) h a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> f (<a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h) a<a href="src/Data-Functor-Kan-Ran.html#decomposeRan" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:adjointToRan" class="def">adjointToRan</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f g =&gt; f a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g Identity a<a href="src/Data-Functor-Kan-Ran.html#adjointToRan" class="link">Source</a></p><div class="doc"><pre>
 <code><a href="Data-Functor-Kan-Ran.html#v:adjointToRan">adjointToRan</a></code> . <code><a href="Data-Functor-Kan-Ran.html#v:ranToAdjoint">ranToAdjoint</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
 <code><a href="Data-Functor-Kan-Ran.html#v:ranToAdjoint">ranToAdjoint</a></code> . <code><a href="Data-Functor-Kan-Ran.html#v:adjointToRan">adjointToRan</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:ranToAdjoint" class="def">ranToAdjoint</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f g =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g Identity a -&gt; f a<a href="src/Data-Functor-Kan-Ran.html#ranToAdjoint" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:composedAdjointToRan" class="def">composedAdjointToRan</a> :: (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f g, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> h) =&gt; h (f a) -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h a<a href="src/Data-Functor-Kan-Ran.html#composedAdjointToRan" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:ranToComposedAdjoint" class="def">ranToComposedAdjoint</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f g =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> g h a -&gt; h (f a)<a href="src/Data-Functor-Kan-Ran.html#ranToComposedAdjoint" class="link">Source</a></p><div class="doc"><pre>
 <code><a href="Data-Functor-Kan-Ran.html#v:composedAdjointToRan">composedAdjointToRan</a></code> . <code><a href="Data-Functor-Kan-Ran.html#v:ranToComposedAdjoint">ranToComposedAdjoint</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
 <code><a href="Data-Functor-Kan-Ran.html#v:ranToComposedAdjoint">ranToComposedAdjoint</a></code> . <code><a href="Data-Functor-Kan-Ran.html#v:composedAdjointToRan">composedAdjointToRan</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:repToRan" class="def">repToRan</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Representable">Representable</a> u =&gt; <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Rep">Rep</a> u -&gt; a -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> u Identity a<a href="src/Data-Functor-Kan-Ran.html#repToRan" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:ranToRep" class="def">ranToRep</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Representable">Representable</a> u =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> u Identity a -&gt; (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Rep">Rep</a> u, a)<a href="src/Data-Functor-Kan-Ran.html#ranToRep" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:composedRepToRan" class="def">composedRepToRan</a> :: (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Representable">Representable</a> u, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> h) =&gt; h (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Rep">Rep</a> u, a) -&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> u h a<a href="src/Data-Functor-Kan-Ran.html#composedRepToRan" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:ranToComposedRep" class="def">ranToComposedRep</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Representable">Representable</a> u =&gt; <a href="Data-Functor-Kan-Ran.html#t:Ran">Ran</a> u h a -&gt; h (<a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Rep.html#t:Rep">Rep</a> u, a)<a href="src/Data-Functor-Kan-Ran.html#ranToComposedRep" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>