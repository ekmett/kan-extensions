<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Functor.Kan.Rift</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Functor-Kan-Rift.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Functor-Kan-Rift.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">kan-extensions-4.0: Kan extensions, Kan lifts, various forms of the Yoneda lemma, and (co)density (co)monads</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>rank N types</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Trustworthy</td></tr></table><p class="caption">Data.Functor.Kan.Rift</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Right Kan lifts
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Right and Left Kan lifts for functors over Hask, where they exist.
</p><p><a href="http://ncatlab.org/nlab/show/Kan+lift">http://ncatlab.org/nlab/show/Kan+lift</a>
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span>  <a href="#t:Rift">Rift</a> g h a = <a href="#v:Rift">Rift</a> {<ul class="subs"><li><a href="#v:runRift">runRift</a> :: <span class="keyword">forall</span> r.  g (a -&gt; r) -&gt; h r</li></ul>}</li><li class="src short"><a href="#v:toRift">toRift</a> :: (<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> g, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> k) =&gt; (<span class="keyword">forall</span> x.  g (k x) -&gt; h x) -&gt; k a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h a</li><li class="src short"><a href="#v:fromRift">fromRift</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; (<span class="keyword">forall</span> a.  k a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f h a) -&gt; f (k b) -&gt; h b</li><li class="src short"><a href="#v:grift">grift</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; f (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f k a) -&gt; k a</li><li class="src short"><a href="#v:composeRift">composeRift</a> :: (Composition compose, <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> g u) =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h) a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> (compose g f) h a</li><li class="src short"><a href="#v:decomposeRift">decomposeRift</a> :: (Composition compose, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> f, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> g) =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> (compose g f) h a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h) a</li><li class="src short"><a href="#v:adjointToRift">adjointToRift</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; u a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f Identity a</li><li class="src short"><a href="#v:riftToAdjoint">riftToAdjoint</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f Identity a -&gt; u a</li><li class="src short"><a href="#v:composedAdjointToRift">composedAdjointToRift</a> :: (<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> h, <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u) =&gt; u (h a) -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f h a</li><li class="src short"><a href="#v:riftToComposedAdjoint">riftToComposedAdjoint</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f h a -&gt; u (h a)</li><li class="src short"><a href="#v:rap">rap</a> :: <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> f =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f g (a -&gt; b) -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f h b</li></ul></div><div id="interface"><h1 id="g:1">Right Kan lifts
</h1><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:Rift" class="def">Rift</a> g h a <a href="src/Data-Functor-Kan-Rift.html#Rift" class="link">Source</a></p><div class="doc"><pre>g . <code><a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a></code> g f =&gt; f</pre><p>This could alternately be defined directly from the (co)universal propertly
 in which case, we'd get <code><a href="Data-Functor-Kan-Rift.html#v:toRift">toRift</a></code> = <code>UniversalRift</code>, but then the usage would
 suffer.
</p><pre>
 data <code>UniversalRift</code> g f a = forall z. <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a></code> z =&gt;
      <code>UniversalRift</code> (forall x. g (z x) -&gt; f x) (z a)
</pre><p>We can witness the isomorphism between Rift and UniversalRift using:
</p><pre>
 riftIso1 :: Functor g =&gt; UniversalRift g f a -&gt; Rift g f a
 riftIso1 (UniversalRift h z) = Rift $ g -&gt; h $ fmap (k -&gt; k <a href="$">$</a> z) g
</pre><pre>
 riftIso2 :: Rift g f a -&gt; UniversalRift g f a
 riftIso2 (Rift e) = UniversalRift e id
</pre><pre>
 riftIso1 (riftIso2 (Rift h)) =
 riftIso1 (UniversalRift h id) =          -- by definition
 Rift $ g -&gt; h $ fmap (k -&gt; k <a href="$">$</a> id) g -- by definition
 Rift $ g -&gt; h $ fmap id g               -- <a href="$">$</a> = (.) and (.id)
 Rift $ g -&gt; h g                         -- by functor law
 Rift h                                   -- eta reduction
</pre><p>The other direction is left as an exercise for the reader.
</p><p>There are several monads that we can form from <code>Rift</code>.
</p><p>When <code>g</code> is corepresentable (e.g. is a right adjoint) then there exists <code>x</code> such that <code>g ~ (-&gt;) x</code>, then it follows that
</p><pre>
 Rift g g a ~
 forall r. (x -&gt; a -&gt; r) -&gt; x -&gt; r ~
 forall r. (a -&gt; x -&gt; r) -&gt; x -&gt; r ~
 forall r. (a -&gt; g r) -&gt; g r ~
 Codensity g r
</pre><p>When <code>f</code> is a left adjoint, so that <code>f -| g</code> then
</p><pre>
 Rift f f a ~
 forall r. f (a -&gt; r) -&gt; f r ~
 forall r. (a -&gt; r) -&gt; g (f r) ~
 forall r. (a -&gt; r) -&gt; Adjoint f g r ~
 Yoneda (Adjoint f g r)
</pre><p>An alternative way to view that is to note that whenever <code>f</code> is a left adjoint then <code>f -| <code><a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a></code> f <code>Identity</code></code>, and since <code><code><a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a></code> f f</code> is isomorphic to <code><code><a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a></code> f <code>Identity</code> (f a)</code>, this is the <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a></code> formed by the adjunction.
</p><p><code><code><a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a></code> <code>Identity</code> m</code> can be a <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a></code> for any <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a></code> <code>m</code>, as it is isomorphic to <code><code>Yoneda</code> m</code>.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Rift" class="def">Rift</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:runRift" class="def">runRift</a> :: <span class="keyword">forall</span> r.  g (a -&gt; r) -&gt; h r</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Rift" class="caption collapser" onclick="toggleSection('i:Rift')">Instances</p><div id="section.i:Rift" class="show"><table><tr><td class="src"><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> g =&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> g, ~ (* -&gt; *) g h) =&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> g, ~ (* -&gt; *) g h) =&gt; Pointed (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:toRift" class="def">toRift</a> :: (<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> g, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> k) =&gt; (<span class="keyword">forall</span> x.  g (k x) -&gt; h x) -&gt; k a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h a<a href="src/Data-Functor-Kan-Rift.html#toRift" class="link">Source</a></p><div class="doc"><p>The universal property of <code><a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:fromRift" class="def">fromRift</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; (<span class="keyword">forall</span> a.  k a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f h a) -&gt; f (k b) -&gt; h b<a href="src/Data-Functor-Kan-Rift.html#fromRift" class="link">Source</a></p><div class="doc"><p>When <code>f -| u</code>, then <code>f -| Rift f Identity</code> and
</p><pre>
 <code><a href="Data-Functor-Kan-Rift.html#v:toRift">toRift</a></code> . <code><a href="Data-Functor-Kan-Rift.html#v:fromRift">fromRift</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
 <code><a href="Data-Functor-Kan-Rift.html#v:fromRift">fromRift</a></code> . <code><a href="Data-Functor-Kan-Rift.html#v:toRift">toRift</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:grift" class="def">grift</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; f (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f k a) -&gt; k a<a href="src/Data-Functor-Kan-Rift.html#grift" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:composeRift" class="def">composeRift</a> :: (Composition compose, <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> g u) =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h) a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> (compose g f) h a<a href="src/Data-Functor-Kan-Rift.html#composeRift" class="link">Source</a></p><div class="doc"><pre>
 <code><a href="Data-Functor-Kan-Rift.html#v:composeRift">composeRift</a></code> . <code><a href="Data-Functor-Kan-Rift.html#v:decomposeRift">decomposeRift</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
 <code><a href="Data-Functor-Kan-Rift.html#v:decomposeRift">decomposeRift</a></code> . <code><a href="Data-Functor-Kan-Rift.html#v:composeRift">composeRift</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:decomposeRift" class="def">decomposeRift</a> :: (Composition compose, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> f, <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> g) =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> (compose g f) h a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f (<a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h) a<a href="src/Data-Functor-Kan-Rift.html#decomposeRift" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:adjointToRift" class="def">adjointToRift</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; u a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f Identity a<a href="src/Data-Functor-Kan-Rift.html#adjointToRift" class="link">Source</a></p><div class="doc"><p><code>Rift f Identity a</code> is isomorphic to the right adjoint to <code>f</code> if one exists.
</p><pre>
 <code><a href="Data-Functor-Kan-Rift.html#v:adjointToRift">adjointToRift</a></code> . <code><a href="Data-Functor-Kan-Rift.html#v:riftToAdjoint">riftToAdjoint</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
 <code><a href="Data-Functor-Kan-Rift.html#v:riftToAdjoint">riftToAdjoint</a></code> . <code><a href="Data-Functor-Kan-Rift.html#v:adjointToRift">adjointToRift</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:riftToAdjoint" class="def">riftToAdjoint</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f Identity a -&gt; u a<a href="src/Data-Functor-Kan-Rift.html#riftToAdjoint" class="link">Source</a></p><div class="doc"><p><code>Rift f Identity a</code> is isomorphic to the right adjoint to <code>f</code> if one exists.
</p></div></div><div class="top"><p class="src"><a name="v:composedAdjointToRift" class="def">composedAdjointToRift</a> :: (<a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> h, <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u) =&gt; u (h a) -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f h a<a href="src/Data-Functor-Kan-Rift.html#composedAdjointToRift" class="link">Source</a></p><div class="doc"><p><code>Rift f h a</code> is isomorphic to the post-composition of the right adjoint of <code>f</code> onto <code>h</code> if such a right adjoint exists.
</p></div></div><div class="top"><p class="src"><a name="v:riftToComposedAdjoint" class="def">riftToComposedAdjoint</a> :: <a href="/Users/ekmett/.cabal/share/doc/adjunctions-4.0/html/Data-Functor-Adjunction.html#t:Adjunction">Adjunction</a> f u =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f h a -&gt; u (h a)<a href="src/Data-Functor-Kan-Rift.html#riftToComposedAdjoint" class="link">Source</a></p><div class="doc"><p><code>Rift f h a</code> is isomorphic to the post-composition of the right adjoint of <code>f</code> onto <code>h</code> if such a right adjoint exists.
</p><pre>
 <code><a href="Data-Functor-Kan-Rift.html#v:riftToComposedAdjoint">riftToComposedAdjoint</a></code> . <code><a href="Data-Functor-Kan-Rift.html#v:composedAdjointToRift">composedAdjointToRift</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
 <code><a href="Data-Functor-Kan-Rift.html#v:composedAdjointToRift">composedAdjointToRift</a></code> . <code><a href="Data-Functor-Kan-Rift.html#v:riftToComposedAdjoint">riftToComposedAdjoint</a></code> &#8801; <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:id">id</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:rap" class="def">rap</a> :: <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> f =&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f g (a -&gt; b) -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> g h a -&gt; <a href="Data-Functor-Kan-Rift.html#t:Rift">Rift</a> f h b<a href="src/Data-Functor-Kan-Rift.html#rap" class="link">Source</a></p><div class="doc"><p>Indexed applicative composition of right Kan lifts.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>